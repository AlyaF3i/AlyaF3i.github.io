<!DOCTYPE html>
<html lang="en">
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GPA</title>
    <script>
        function Change(){
            let courses=document.forms[0].elements['CoursesNum'].value;
            Hide();
            for(let i=1;i<=courses;i++){
                let n="row"+i;
                document.getElementById(n).style.visibility="visible";
            }
        }
        function Hide(){
            for(let i=2;i<=7;i++){
                let n="row"+i;
                document.getElementById(n).style.visibility="hidden";
            }
        }
        function Calc(){
            let courses=document.forms[0].elements['CoursesNum'].value*1;
            console.log(courses);
            sum=0;
            hours=0;
            for(let i=1;i<=courses;i++){
                let n="m"+i;
                let temp=(document.forms[0].elements[n].value*1.0);
                console.log(`${temp}`);
                n="w"+i;
                let a=(temp*document.forms[0].elements[n].value);
                //console.log(`${a}`);
                sum+=a;
                hours+=(document.forms[0].elements[n].value*1.0);
            }
            let GPA=sum/hours;
            document.getElementById("output").innerHTML="  Your GPA is:  "+GPA;
        }
    </script>
    <style>
        table,th,td{
            border: 3px solid black;
            border-collapse: collapse;
            padding: 10px;
        }
        input{
            border:0px solid black;
            border-radius: 10%;
        }


    </style>
</head>
<body>
    <form method="post" onsubmit="return false">
        <caption><b>How Many Courses:</b> <input style="border:1px solid gray;" name="CoursesNum" type="number" max="7" min="1" step="1" value="1" onchange="Change()"></caption>
        <table>
                <tr id="row0">
                    <th>#</th>
                    <th>Mark</th>
                    <th>Weight</th>
                </tr>
            <tr id="row1">
                <td>Course #1</td>
                <td>
                <select name="m1" id="1">
                    <option value="4">A</option>
                    <option value="3.5">B+</option>
                    <option value="3">B</option>
                    <option value="2.5">C+</option>
                    <option value="2">C</option>
                    <option value="1.5">D+</option>
                    <option value="1">D</option>
                    <option value="0">F</option>
                </select>
                </td>
                <td><input type="number" name="w1" max="4" min="0" step="1" value=3></td>
            </tr>
            <tr id="row2">
                <td>Course #2</td>
                <td>
                <select name="m2" id="2">
                    <option value="4">A</option>
                    <option value="3.5">B+</option>
                    <option value="3">B</option>
                    <option value="2.5">C+</option>
                    <option value="2">C</option>
                    <option value="1.5">D+</option>
                    <option value="1">D</option>
                    <option value="0">F</option>
                </select>
            </td>
            <td><input type="number" name="w2" max="4" min="0" step="1" value=3></td>
            </tr>
            <tr id="row3">
                <td>Course #3</td>
                <td>
                <select name="m3" id="3">
                    <option value="4">A</option>
                    <option value="3.5">B+</option>
                    <option value="3">B</option>
                    <option value="2.5">C+</option>
                    <option value="2">C</option>
                    <option value="1.5">D+</option>
                    <option value="1">D</option>
                    <option value="0">F</option>
                </select>
            </td>
            <td><input type="number" name="w3" max="4" min="0" step="1" value=3></td>
            </tr>
            <tr id="row4">
                <td>Course #4</td>
                <td>
                <select name="m4" id="4">
                    <option value="4">A</option>
                    <option value="3.5">B+</option>
                    <option value="3">B</option>
                    <option value="2.5">C+</option>
                    <option value="2">C</option>
                    <option value="1.5">D+</option>
                    <option value="1">D</option>
                    <option value="0">F</option>
                </select>
            </td>
            <td><input type="number" name="w4" max="4" min="0" step="1" value=3></td>
            </tr>
            <tr id="row5">
                <td>Course #5</td>
                <td>
                <select name="m5" id="5">
                    <option value="4">A</option>
                    <option value="3.5">B+</option>
                    <option value="3">B</option>
                    <option value="2.5">C+</option>
                    <option value="2">C</option>
                    <option value="1.5">D+</option>
                    <option value="1">D</option>
                    <option value="0">F</option>
                </select>
            </td>
            <td><input type="number" name="w5" max="4" min="0" step="1" value=3></td>
            </tr>
            <tr id="row6">
                <td>Course #6</td>
                <td>
                <select name="m6" id="6">
                    <option value="4">A</option>
                    <option value="3.5">B+</option>
                    <option value="3">B</option>
                    <option value="2.5">C+</option>
                    <option value="2">C</option>
                    <option value="1.5">D+</option>
                    <option value="1">D</option>
                    <option value="0">F</option>
                </select>
            </td>
            <td><input type="number" name="w6" max="4" min="0" step="1" value=3></td>
            </tr>
            <tr id="row7">
                <td>Course #7</td>
                <td>
                <select name="m7" id="7">
                    <option value="4">A</option>
                    <option value="3.5">B+</option>
                    <option value="3">B</option>
                    <option value="2.5">C+</option>
                    <option value="2">C</option>
                    <option value="1.5">D+</option>
                    <option value="1">D</option>
                    <option value="0">F</option>
                </select>
            </td>
            <td><input type="number" name="w7" max="4" min="0" step="1" value=3></td>
            </tr>
        </table>
        <br>
        <button onclick="Calc()">Calculate</button>
    </form>
    <h1 id="output"></h1>
</body>
</html>